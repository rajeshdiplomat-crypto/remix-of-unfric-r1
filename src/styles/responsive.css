/* ========================================
   RESPONSIVE DESIGN SYSTEM
   Global responsive rules for typography,
   spacing, touch targets, and layout
   ======================================== */

/* ---- Group 3: Fluid Typography ---- */

/* Fluid headings using clamp() */
h1 {
  font-size: clamp(1.8rem, 5vw, 3rem);
  line-height: 1.2;
}

h2 {
  font-size: clamp(1.35rem, 3.5vw, 2rem);
  line-height: 1.3;
}

h3 {
  font-size: clamp(1.1rem, 2.5vw, 1.5rem);
  line-height: 1.4;
}

/* Minimum body text / label size on mobile — 16px floor */
@media (max-width: 767px) {
  body {
    font-size: 14px;
  }

  /* Mobile typography: 14px primary with relaxed leading for legibility */
  p, span, li, td, th {
    font-size: 0.875rem; /* 14px */
    line-height: 1.625; /* leading-relaxed */
    font-weight: 500; /* font-medium for sharpness at small sizes */
  }

  /* Ensure labels, task names, diary dates never shrink below 13px */
  label,
  .text-sm,
  .text-xs {
    font-size: max(var(--tw-text-size, 0.75rem), 0.8125rem); /* 13px min */
  }

  /* Secondary labels: 10px uppercase tracking */
  .zara-label,
  .text-muted-foreground {
    font-size: 0.625rem; /* 10px */
    letter-spacing: 0.2em;
    text-transform: uppercase;
  }

  /* Logo scales up on mobile — prominent anchor */
  .unfric-logo-scale {
    font-size: 110%;
  }

  /* Card minimum padding on mobile */
  .ui-card,
  [data-slot="card"],
  .card {
    padding: 1.25rem; /* p-5 minimum */
  }

  /* Tighten vertical spacing by ~30% on mobile */
  .space-y-6 > * + * { margin-top: 1rem; }
  .space-y-4 > * + * { margin-top: 0.625rem; }
  .my-6 { margin-top: 1rem; margin-bottom: 1rem; }
  .my-4 { margin-top: 0.625rem; margin-bottom: 0.625rem; }
  .mb-6 { margin-bottom: 1rem; }
  .mb-4 { margin-bottom: 0.625rem; }
  .py-4 { padding-top: 0.625rem; padding-bottom: 0.625rem; }

  /* Mandatory visual air between feed cards */
  .feed-card + .feed-card,
  .diary-card + .diary-card {
    margin-top: 2rem; /* gap-y-8 equivalent */
  }
}

/* ---- Group 3: Line Spacing for long-form content ---- */
/* Journal and Diary text comfortable reading */
.journal-content,
.diary-content,
.long-form-text {
  line-height: 1.6;
  max-width: 1100px;
  margin-left: auto;
  margin-right: auto;
}

/* ---- Group 4: Thumb-Friendly Buttons ---- */
/* Touch-optimized buttons: 48px mobile, 56px desktop */
button[data-primary],
.btn-primary,
[data-slot="button"] {
  min-height: 48px;
}

@media (min-width: 768px) {
  button[data-primary],
  .btn-primary,
  [data-slot="button"] {
    min-height: 56px;
  }
}

/* ---- Group 4: Input Focus Scaling — prevent iOS zoom ---- */
/* Set all inputs to 16px minimum to prevent iOS auto-zoom */
input,
select,
textarea {
  font-size: max(1rem, 16px);
}

@media (min-width: 768px) {
  input,
  select,
  textarea {
    font-size: inherit;
  }
}

/* ---- Group 2: Max-Width Controls ---- */
/* Main content container max-width for readability on large screens */
.content-container {
  max-width: 1400px;
  margin-left: auto;
  margin-right: auto;
}

/* ---- Group 1: Hero images responsive ---- */
/* Ensure hero images use object-cover with centered focal point */
.page-hero-media {
  object-fit: cover;
  object-position: center;
}

@media (max-width: 767px) {
  .page-hero-media {
    aspect-ratio: 16 / 9;
  }
}

/* ---- PWA: Safe Area Insets ---- */
/* Respect notches, home indicators, and rounded corners on modern devices */
html {
  padding-left: env(safe-area-inset-left);
  padding-right: env(safe-area-inset-right);
  padding-bottom: env(safe-area-inset-bottom);
}

/* ---- PWA: Disable Pull-to-Refresh ---- */
/* Prevent accidental browser pull-to-refresh in standalone mode */
body {
  overscroll-behavior-y: contain;
}

@media all and (display-mode: standalone) {
  html, body {
    overscroll-behavior: none;
  }
}
